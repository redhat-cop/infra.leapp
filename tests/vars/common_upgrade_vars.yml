---
# Common variables for upgrade testing
title_map:
  "cgroups-v1 enabled on the system": leapp_cgroups-v1_enabled
  "Use of CIFS detected. Upgrade can't proceed": leapp_cifs_detected
  "Detected a corrupted grubenv file": leapp_corrupted_grubenv_file
  # noqa: yaml[line-length]
  "custom network-scripts detected. RHEL 9 does not support the legacy network-scripts package that was deprecated in RHEL 8": leapp_custom_network_scripts_detected
  "A deprecated directive in the sshd configuration": leapp_deprecated_sshd_directive
  "Firewalld Configuration AllowZoneDrifting Is Unsupported": leapp_firewalld_allowzonedrifting
  "Firewalld Service tftp-client Is Unsupported": leapp_firewalld_unsupported_tftp_client
  "Legacy network configuration found": leapp_legacy_network_configuration
  "Leapp detected loaded kernel drivers which have been removed in RHEL 8. Upgrade cannot proceed": leapp_loaded_removed_kernel_drivers
  "Leapp detected loaded kernel drivers which have been removed in RHEL 9. Upgrade cannot proceed": leapp_loaded_removed_kernel_drivers
  "Leapp detected loaded kernel drivers which have been removed in RHEL 10. Upgrade cannot proceed": leapp_loaded_removed_kernel_drivers
  "efibootmgr package is required on EFI systems": leapp_missing_efibootmgr
  "Leapp detected missing packages": leapp_missing_pkg
  "Required DNF plugins are not being loaded.": leapp_missing_yum_plugins
  "Multiple kernels installed": leapp_multiple_kernels
  "Newest installed kernel not in use": leapp_newest_kernel_not_in_use
  "Use of NFS detected. Upgrade can't proceed": leapp_nfs_detected
  "Detected partitions mounted in a non-persistent fashion, preventing a successful in-place upgrade": leapp_non_persistent_partitions
  "Non-standard configuration of openssl.cnf": leapp_non_standard_openssl_config
  "Old PostgreSQL data found in `/var/lib/pgsql/data`": leapp_old_postgresql_data
  "The pam_tally2 pam module(s) no longer available": leapp_pam_tally2
  "Detected partitions mounted with the `noexec` option, preventing a successful in-place upgrade": leapp_partitions_with_noexec
  "Upgrade requires links in root directory to be relative": leapp_relative_symlinks
  "Possible problems with remote login using root account": leapp_remote_using_root
  "Detected RPMs with RSA/SHA1 signature": leapp_rpms_with_rsa_sha1_detected
  "The installed KDE environment is unavailable on RHEL 8": leapp_unavailable_kde
  "Cannot perform the VDO check of block devices": leapp_vdo_check_needed

leapp_answerfile: |
  [remove_pam_pkcs11_module_check]
  confirm = True

# We test with internal non-production composes (e.g. nightly) that often
# contain RPMs that are not signed by RH yet
# Setting these variables makes leapp accept all installed RPMs as signed by RH
leapp_env_vars:
  LEAPP_UNSUPPORTED: 1
  LEAPP_DEVEL_RPMS_ALL_SIGNED: 1

# Remove these test packages before each test
leapp_remove_test_packages:
  - leapp-upgrade
...
